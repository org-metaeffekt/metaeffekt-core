## do not insert blank lines in between macros. as this document is loaded before the XML tag of the main document,
## this will result in the empty lines appearing at the head of the document, which is not allowed in XML.
##
##
##
#macro(componentsInAffectedAssetTable $artifact $assetName)
#set($title = "${assetName} Affected Components")
<topic id="asset-$assetName">
    <title>$title</title>
    <section>
        <table id="$assetName Affected Components">
            <tgroup cols="3">
                <colspec colname="COLSPEC0" colnum="1" colwidth="40*"/>
                <colspec colname="COLSPEC1" colnum="2" colwidth="46*"/>
                <colspec colname="COLSPEC2" colnum="3" colwidth="14*"/>

                <thead>
                <row>
                    <entry colname="COLSPEC0" valign="top">Component</entry>
                    <entry colname="COLSPEC1" valign="top">Artifact Id</entry>
                    <entry colname="COLSPEC2" valign="top">Version</entry>
                </row>
                </thead>
                <tbody>
                <row>
                    <entry>
                        #if($report.isInventoryVulnerabilityReportEnabled())
                            <xref href="tpc_inventory-vulnerability-components.dita#component-$report.xmlEscapeStringAttribute($artifact.getComponent())"
                                  type="topic">$report.xmlEscapeString($artifact.getComponent())</xref>
                        #else
                            $report.xmlEscapeString($artifact.getComponent())
                        #end
                    </entry>
                    <entry>
                        <codeph>$report.xmlEscapeArtifactId($artifact.get("Id"))</codeph>
                    </entry>
                    <entry>
                        <codeph>$report.xmlEscapeGAV($artifact.get("Version"))</codeph>
                    </entry>
                </row>
                </tbody>
            </tgroup>
        </table>
    </section>
</topic>
#end